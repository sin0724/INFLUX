# 1개월 플랜 신청하기 버튼 디버깅 가이드

## 문제 현상
1개월 플랜 광고주가 "신청하기" 버튼을 클릭해도 반응이 없음

## 확인된 사항
- 콘솔 로그에서 Instagram quota가 모두 0으로 확인됨
- 1개월 플랜으로 판단되어야 함

## 수정된 내용

1. **버튼을 Link 컴포넌트로 변경**
   - Next.js의 Link 컴포넌트 사용
   - 클라이언트 사이드 네비게이션 개선
   - 디버깅 로그 추가

2. **페이지 접근 로직 개선**
   - 1개월 플랜은 계약 만료 체크 건너뛰기
   - 1개월 플랜은 quota 체크 건너뛰기

## 디버깅 단계

### 1. 브라우저 콘솔 확인
버튼 클릭 시 다음 로그가 나타나야 함:
```
신청하기 버튼 클릭됨 (Link)
Current user: {...}
1개월 플랜 여부: true
페이지 이동 시작: /client/order
```

### 2. Network 탭 확인
- `/client/order` 페이지로 요청이 가는지 확인
- 응답 코드 확인 (200, 302, 404 등)

### 3. 페이지가 로드되는지 확인
- URL이 `/client/order`로 변경되는지 확인
- 페이지 내용이 표시되는지 확인

## 문제가 계속되면

### 가능한 원인들

1. **리다이렉트 발생**
   - `/client/order` 페이지에서 즉시 `/client`로 리다이렉트
   - 원인: 계약 만료 체크 또는 quota 체크

2. **JavaScript 에러**
   - 페이지 로드 시 에러 발생
   - 콘솔에서 에러 메시지 확인

3. **서버 사이드 렌더링 문제**
   - getSession()에서 세션을 가져오지 못함
   - 세션 정보가 올바르지 않음

## 추가 확인 사항

### 데이터베이스에서 1개월 플랜 확인
```sql
SELECT 
  id,
  username,
  "companyName",
  quota,
  "contractStartDate",
  "contractEndDate",
  "isActive"
FROM users
WHERE username = '광고주아이디';
```

### 확인해야 할 값
- `quota`: 모든 quota가 0이어야 함
- `isActive`: true여야 함
- `contractEndDate`: null이거나 미래 날짜여야 함

## 다음 단계

1. 배포 완료 대기 (2-5분)
2. 로그아웃 후 다시 로그인
3. 브라우저 콘솔 확인
4. 버튼 클릭 후 로그 확인
5. Network 탭에서 요청 확인

문제가 계속되면 콘솔 로그와 Network 탭 스크린샷을 알려주세요.

